tg-userstory-sidebar {
    background-color: $mass-white;
    box-shadow: 1px 1px 5px rgba($primary, .2);
    display: block;
    left: 0;
    max-height: 70%;
    min-height: 70%;
    overflow: scroll;
    padding: 1rem;
    position: absolute;
    top: 30%;
    transform: translateX(-500px);
    transition-duration: .5s;
    width: 500px;
    z-index: 1;
    .sidebars-applied {
        padding: 0 1rem 1rem;
        .single-sidebar {
            &:hover {
                color: currentColor;
                cursor: default;
                opacity: .5;
                transition: none;
            }
        }
    }
    h1,
    form {
        padding: 0 1rem;
    }
    input {
        background: $grayer;
        color: $white;
        padding-right: 2rem;
        @include placeholder {
            color: $gray-light;
        }
    }
    .search-action {
        position: absolute;
        right: .7rem;
        top: .7rem;
    }
    &.open {
        transform: translateX(0);
    }

    .attachments {
        margin-bottom: 1rem;
    }

    .duty-custom-fields {
        margin-bottom: .5rem;
    }

    div.custom-attr {
        font-size: .8rem;
        margin-bottom: 0;
        .custom-fields-header{
            background-color: $whitish;
        }
        .custom-field-data {
            flex: 0;
            flex-basis: 200px;
            .custom-field-name {
                display: block;
                font-size: .8rem;
            }
            .custom-field-description {
                @include font-size(small);
                @include font-type(light);
                color: lighten($gray, 20%);
                display: block;
                font-size: .6rem;
                line-height: .7rem;
            }
        }
        .custom-fields-body {
            padding: .5rem 0;
        }
        form {
            input {
                height: .7rem;
                width: 100%;
            }
        }
    }

    .activity-diff {
        padding-top: .5rem;
        .key {
            @include font-type(bold);
            background: $whitish;
            margin: 0 .5rem 0 0;
            line-height: 1.5rem;

        }
        .icon-arrow-right {
            @include svg-size(.75rem);
            fill: $gray-light;
            margin: 0;
        }
        .diff-color-wrapper {
            align-items: center;
            display: flex;
            .diff {
                display: inline-block;
                height: 1.2rem;
                width: 1.2rem;
            }
        }
        .diff-status-wrapper {
            p {
                margin: 0;
            }
        }
    }
    .activity {
        font-size: .8rem;
        align-items: flex-start;
        border-bottom: 1px solid $whitish;
        margin: 1rem 0;
        padding: 0;
        display: flex;
        .activity-avatar {
            flex-shrink: 0;
            margin-right: .5rem;
            width: 30px;
        }
        .activity-data {
            margin-bottom: .5rem;
            margin-top: .25rem;
        }
        .activity-creator {
            color: $primary;
            margin-right: .5rem;
        }
        .activity-date {
            color: $gray-light;
        }
    }
    .history-tabs {
        background: $whitish;
        display: flex;
        flex-direction: row;
        font-size: .8rem;
        a {
            display: inline-block;
            &:hover {
                color: $primary;
            }
        }
        .order-comments {
            @include font-type(light);
            color: $grayer;
            margin-left: auto;
            transition: none;
        }
        .icon-arrow-up,
        .icon-arrow-down {
            @include svg-size(.75rem);
        }
    }
    .comments {
        clear: both;
        tg-wysiwyg {
            margin-bottom: 0;
            margin-top: 0;
        }
        .read-mode {
            border: 1px solid $gray-light;
            font-size: .6rem;
            height: 2.5rem;
            .medium-editor-placeholder,
            .markdown-editor-placeholder {
                height: 3rem;
                padding: 0.5rem;
                vertical-align: middle;
            }
        }
        .add-comment {
            margin-top: 0;
            textarea {
                height: 3rem;
            }
            .preview-icon,
            .edit {
                position: absolute;
                right: 1rem;
            }
        }
        .save-comment-wrapper {
            align-items: flex-end;
            display: flex;
            flex-direction: column;
        }
        .save-comment {
            margin-top: 1rem;
            padding: .5rem 4rem;
        }
    }
    .comment {
        display: block;
        margin-top: 1rem;
        .comment-wrapper {
            align-items: flex-start;
            border-bottom: 1px solid $whitish;
            display: flex;
            padding: .1rem 0;
            &:hover {
                .comment-option {
                    opacity: 1;
                }
            }
        }
        .comment-main {
            width: 100%;
        }
        .comment-avatar {
            flex-shrink: 0;
            margin-right: .5rem;
            width: 30px;
        }
        .comment-data {
            align-items: center;
            display: flex;
            justify-content: flex-start;
            margin-bottom: 1rem;
        }
        .comment-creator {
            color: $primary;
            margin-right: .5rem;
        }
        .comment-date {
            font-size: .8rem;
            color: $gray-light;
        }
        .comment-edited {
            font-size: .8rem;
            background: $whitish;
            margin: 0 .5rem;
            padding: .25rem;
            .separator {
                margin: 0 .25rem;
            }
            a {
                color: $primary;
                fill: $primary;
            }
            svg {
                @include svg-size(.75rem);
                margin: 0 0 0 .25rem;
            }
        }
        .deleted-comment-wrapper {
            border-bottom: 1px solid $whitish;
            padding: 1rem 0;
            width: 100%;
        }
        .deleted-comment-main {
            font-size: .8rem;
            color: $gray-light;
            display: flex;
            width: 100%;
        }
        .toggle-deleted-comment {
            color: $primary;
            fill: $primary;
            margin: 0 1rem;
            transition: none;
            .icon-arrow-down,
            .icon-arrow-up {
                @include svg-size(.8rem);
                margin-left: .25rem;
            }
        }
        .restore-comment {
            margin-left: auto;
            transition: all .2s;
            &:hover {
                color: $primary;
                fill: $primary;
            }
            .icon-reload {
                @include svg-size(.8rem);
                margin-right: .25rem;
            }
        }
        .deleted-comment-comment {
            margin-top: 1rem;
        }
    }

    .comment-text {
        max-width: 80rem;
        &.wysiwyg {
            font-size: .8rem;
            margin-bottom: 0;
            padding: 0;
        }
    }

    .mode-editor{
        display: none;
    }

    label.button-gray.ico {
        color: $mass-white;
        fill: $mass-white;
        text-decoration-color: $mass-white;
        padding: 16px;
    }

    textarea {
        min-height: 6rem;
        font-size: .8rem;
    }

    .icon-lock,
    .icon-unlock {
        margin: 0;
        fill: $mass-white;
    }
    div.buttons {
        text-align:center;
        width:100%;
    }
    textarea.box {
        width:95%;
        font-size: .8rem;
        min-height: 2rem;
    }
    svg.ico {
        fill: $mass-white;
    }
    svg.icon-save {
        vertical-align: top;
    }
    label.close,
    svg.icon-close {
        text-align: right;
        cursor: pointer;
    }
    label.button-gray.is-blocked.ico.active:hover,
    label.button-gray.is-blocked.ico:hover {
        background: $red;
    }
    label.button-gray.is-blocked.ico.active {
        background: $red-light;
    }
    label.button-gray.is-important.ico.active:hover,
    label.button-gray.is-important.ico:hover {
        background: $im;
    }
    label.button-gray.is-important.ico.active {
        background: $im-light;
    }
    label.button-gray.active {
        background: $green-olive;
    }
    div.desc{
        margin: 1rem;
    }
    div.desc:hover {
        label.save-desc {
            fill: $gray;
            :hover{fill: $blackish;}
        }
    }
    label.save-desc {
        width: 16px;
        width: 16px;
        height: 16px;
        fill: $mass-white;
        vertical-align: top;
    }

    .subject {
        background-color: $whitish;
        padding: .5rem 1rem;
        vertical-align: middle;
        width: 100%;
        text-transform: none;
        font-size: .8rem;
        font-family: 'OpenSans-Semibold', Arial, Helvetica, sans-serif;
        div.closing {
            text-align: right;
            vertical-align: top;
            width: auto;
            float: right;
        }
    }
    .attachments-header {
        vertical-align: middle;
        background-color: $whitish;
    }

    div.title {
        text-align: center;
        font-size: 1rem;
        padding: 1rem 0;
    }
    .subject-blocked {
        background-color: $red-light;
    }
    .subject-important {
        background-color: $im-light;
    }
    label.close:focus {
        outline: none;
    }
}